<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>梦柯教育-动画</title>
		<style>
			*{padding:0;margin:0}
			li{list-style: none;}
			.w1180{width: 1180px;background: red;margin: 10px auto;}
			.container li{width:280px;height: 300px;float:left;background: #111;
				margin-right: 20px;
				margin-bottom: 20px;
			}
			.container li:nth-child(4n){margin-right: 0;}
			.container li img{width:100%;height:100%;}
		</style>
		<link rel="stylesheet" type="text/css" href="css/animate.css"/>
	</head>
	<body>
		<div class="container">
			<div class="w1180">
				<ul>
					<li  class="mk_animate" data-delay="1" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li  class="mk_animate" data-delay="2" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li  class="mk_animate" data-delay="3" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li  class="mk_animate" data-type="rotateIn"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
				</ul>
			</div>	
		</div>
		<div class="container">
			<div class="w1180">
				<ul>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInRight"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
				</ul>
			</div>	
		</div>
		<div class="container">
			<div class="w1180">
				<ul>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInUp"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
				</ul>
			</div>	
		</div>
		<div class="container">
			<div class="w1180">
				<ul>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/06/201612061741434_small.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/course/2016/10/15/201610151355233.jpg" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/09/201612091553523_small.png" alt="" /></li>
					<li class="mk_animate" data-type="bounceInLeft"><img src="https://www.mengkedu.com/resource/content/2016/12/04/201612041321512_small.jpg" alt="" /></li>
				</ul>
			</div>	
		</div>
		
		<script type="text/javascript" src="util.js"></script>
		<script type="text/javascript">
			
			var carr = [];
			window.onscroll = window.onload = function(){
				//找到所有的动画元素
				var elements = getClass(document.body,"mk_animate");
				if(carr.length==elements.length){
					return;
				}
				var ch = document.documentElement.clientHeight;
				//兼容ie678滚动条的高度
				var sc = document.documentElement.scrollTop || document.body.scrollTop;
				for (var i = 0; i < elements.length; i++) {
					var stop = getElementTop(elements[i]);
					//当可视区域+滚动条的top大于等于元素的位置代表元素已经进入可视范围
					if(!elements[i].cflag && ch+sc >=stop){
						var atype = elements[i].getAttribute("data-type");
						var dtime = elements[i].getAttribute("data-delay");
						elements[i].style.webkitAnimationDelay = dtime+"s";
						elements[i].style.MozAnimationDelay = dtime+"s";
						elements[i].style.msAnimationDelay = dtime+"s";
						elements[i].style.animationDelay = dtime+"s";
						addClass(elements[i],atype);
						carr.push(1);
						elements[i].cflag  = true;
					}
				}
			};
			
			//获取元素的位置
			function getElementTop(ele){
				var top = 0;
				while(ele){
					top+=ele.offsetTop;
					ele = ele.offsetParent;//获取父类元素容器
				}
				return top;
			};
			
			
		</script>
	</body>
</html>
